#+TITLE: mlops-explained-from-azure

* 说明
- 本文是如下视频的学习笔记
#+begin_quote
https://www.youtube.com/watch?v=ZVWg18AXXuE
#+end_quote

* mlops 目标
1. 更快的实验和模型开发
2. 更快的部署新模型到生产环境
3. 质量管理

* 涉及的角色
1. ML Engineer，机器学习系统工程师
   1. 负责平台功能开发
2. Data Scientist，机器学习算法工程师
   1. 负责算法优化
   2. 负责模型开发

#+begin_src text
[系统工程师] -> [MLOPS 平台] <- [算法工程师]
#+end_src

* 讨论主题
1. 为什么我们需要 MLOps
2. 什么是 MLOps
3. MLOps 能带来什么收益

** 为什么我们需要 MLOps
*** 机器学习典型工作流
**** 第一步: 获取数据
1. 需要构建一个机器学习模型，从数据出发
2. 数据有不同的格式、不同的数据来源
   1. 注：数据质量 = 模型质量
3. 当你挑选新的更好的数据，你需要构建一个新的模型
4. 所以，为了更好管理模型，你需要 **数据版本** 和 **血缘关系**

**** 第二步: 构建模型
1. 包含如下几个子过程
   1. 特征选择/生成
   2. 算法选择
   3. 超参调选
2. 以上过程称为 **实验**

*** Model Drift
1. 根据业务需求，开发模型，并部署使用
2. 但是业务需求可能会发生变更，如信用卡欺诈交易的定义
3. 业务需求发生变更，导致模型发生迁移，需要重新基于新的数据集训练新的模型

*** Data Drift
1. 部署使用后，模型服务的目标发生一些变化，如
   1. 季节变化
   2. 用户喜好变化
   3. 社会灾害，如新冠疫情导致所有人带口罩，之前训练的人脸模型无法识别
2. 这种变化，需要能自动化触发
   1. 挑选新的数据集
   2. 模型重训练

*** 需要 MLOps 的原因
1. 从错误中学习
2. 指标跟踪
3. 源代码管理
4. 自动化的校验(技术上，业务上)
5. 监控模型性能、功效，触发重训练

** 什么是 MLOps，如何完成这些任务

*** MLOps 如何做
1. 创建可复现的 MLPipeline
2. 提供可复用的 ML 环境
3. 注册、打包、部署模型
4. 为端到端的机器学习生命周期，提供数据治理
   1. 记录谁发布了模型
   2. 为什么做了修改
   3. 什么时候部署了模型
5. 提供事件告警或通知或触发重训练的 pipeline 或其他动作，事件如
   1. 实验任务完成
   2. 模型注册
   3. 模型部署
   4. 检测到 data drift
6. 比较模型训练和推理的输入，挖掘模型特定的指标
7. 提供端到端的机器学习生命周期的自动化 pipeline
   1. 你能轻松更新模型，测试新模型，平滑升级模型，而不影响上层的应用或服务

** MLOps 收益
1. 1000's of models 怎么开展工作?
2. MLOps 价值
   1. 复用和复现
   2. Effortless CI/CD
   3. 维护模型健康
*** azure 为 MLOps 提供的能力
1. 创建可复用的 ML Pipeline
2. 自动化是 MLOps 关键
3. 监控性能
4. 监控 data dirft 和利用专业知识重新训练模型
5. 自动化审计跟踪制品的创建
